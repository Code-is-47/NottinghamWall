(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c44f45e"],{2235:function(e,t,a){e.exports=a.p+"img/search_table_empty.e769fc3e.png"},"38b8":function(e,t,a){e.exports=a.p+"img/table_empty.885371bc.png"},"560a":function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"h",(function(){return o})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"e",(function(){return b})),a.d(t,"g",(function(){return p})),a.d(t,"d",(function(){return v}));a("8e6e"),a("ac6a"),a("456d");var r=a("bd86"),i=a("b32d");function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e){return Object(i["a"])({url:"/order/conditionSearch",method:"get",params:e})},o=function(e){return Object(i["a"])({url:"/order/details/".concat(e.orderId),method:"get"})},c=function(e){return Object(i["a"])({url:"/order/delivery/".concat(e.id),method:"put"})},u=function(e){return Object(i["a"])({url:"/order/complete/".concat(e.id),method:"put"})},d=function(e){return Object(i["a"])({url:"/order/cancel",method:"put",data:s({},e)})},b=function(e){return Object(i["a"])({url:"/order/confirm",method:"put",data:s({},e)})},p=function(e){return Object(i["a"])({url:"/order/rejection",method:"put",data:s({},e)})},v=function(e){return Object(i["a"])({url:"/order/statistics",method:"get"})}},"5dbc":function(e,t,a){var r=a("d3f4"),i=a("8b97").set;e.exports=function(e,t,a){var n,s=t.constructor;return s!==a&&"function"==typeof s&&(n=s.prototype)!==a.prototype&&r(n)&&i&&i(e,n),e}},"6f02":function(e,t,a){},"780e":function(e,t,a){},"847b":function(e,t,a){e.exports={menuBg:"#343744",menuText:"#bfcbd9",menuActiveText:"#ffc200"}},"84a9":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-container"},[a("TabChange",{attrs:{"order-statics":e.orderStatics,"default-activity":e.defaultActivity},on:{tabChange:e.change}}),a("div",{staticClass:"container",class:{hContainer:e.tableData.length}},[a("div",{staticClass:"tableBar"},[a("label",{staticStyle:{"margin-right":"10px"}},[e._v("订单号：")]),a("el-input",{staticStyle:{width:"15%"},attrs:{placeholder:"请填写订单号",clearable:""},on:{clear:function(t){return e.init(e.orderStatus)}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initFun(e.orderStatus)}},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),a("label",{staticStyle:{"margin-left":"20px"}},[e._v("手机号：")]),a("el-input",{staticStyle:{width:"15%"},attrs:{placeholder:"请填写手机号",clearable:""},on:{clear:function(t){return e.init(e.orderStatus)}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initFun(e.orderStatus)}},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),a("label",{staticStyle:{"margin-left":"20px"}},[e._v("下单时间：")]),a("el-date-picker",{staticStyle:{width:"25%","margin-left":"10px"},attrs:{clearable:"","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","default-time":["00:00:00","23:59:59"],type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{clear:function(t){return e.init(e.orderStatus)}},model:{value:e.valueTime,callback:function(t){e.valueTime=t},expression:"valueTime"}}),a("el-button",{staticClass:"normal-btn continue",on:{click:function(t){return e.init(e.orderStatus,!0)}}},[e._v("\n        查询\n      ")])],1),e.tableData.length?a("el-table",{staticClass:"tableBox",attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{key:"number",attrs:{prop:"number",label:"订单号"}}),[2,3,4].includes(e.orderStatus)?a("el-table-column",{key:"orderDishes",attrs:{prop:"orderDishes",label:"订单菜品"}}):e._e(),[0].includes(e.orderStatus)?a("el-table-column",{key:"status",attrs:{prop:"订单状态",label:"订单状态"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(e.getOrderType(r)))])]}}],null,!1,1146136203)}):e._e(),[0,5,6].includes(e.orderStatus)?a("el-table-column",{key:"consignee",attrs:{prop:"consignee",label:"用户名","show-overflow-tooltip":""}}):e._e(),[0,5,6].includes(e.orderStatus)?a("el-table-column",{key:"phone",attrs:{prop:"phone",label:"手机号"}}):e._e(),[0,2,3,4,5,6].includes(e.orderStatus)?a("el-table-column",{key:"address",attrs:{prop:"address",label:"地址","class-name":6===e.orderStatus?"address":""}}):e._e(),[0,6].includes(e.orderStatus)?a("el-table-column",{key:"orderTime",attrs:{prop:"orderTime",label:"下单时间","class-name":"orderTime","min-width":"110"}}):e._e(),[6].includes(e.orderStatus)?a("el-table-column",{key:"cancelTime",attrs:{prop:"cancelTime","class-name":"cancelTime",label:"取消时间","min-width":"110"}}):e._e(),[6].includes(e.orderStatus)?a("el-table-column",{key:"cancelReason",attrs:{prop:"cancelReason",label:"取消原因","class-name":"cancelReason","min-width":[6].includes(e.orderStatus)?80:"auto"}}):e._e(),[5].includes(e.orderStatus)?a("el-table-column",{key:"deliveryTime",attrs:{prop:"deliveryTime",label:"送达时间"}}):e._e(),[2,3,4].includes(e.orderStatus)?a("el-table-column",{key:"estimatedDeliveryTime",attrs:{prop:"estimatedDeliveryTime",label:"预计送达时间","min-width":"110"}}):e._e(),[0,2,5].includes(e.orderStatus)?a("el-table-column",{key:"amount",attrs:{prop:"amount",label:"实收金额",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("span",[e._v("￥"+e._s(100*r.amount.toFixed(2)/100))])]}}],null,!1,1581866610)}):e._e(),[2,3,4,5].includes(e.orderStatus)?a("el-table-column",{key:"remark",attrs:{prop:"remark",label:"备注",align:"center"}}):e._e(),[2,3,4].includes(e.orderStatus)?a("el-table-column",{key:"tablewareNumber",attrs:{prop:"tablewareNumber",label:"餐具数量",align:"center","min-width":"80"}}):e._e(),a("el-table-column",{attrs:{prop:"btn",label:"操作",align:"center","class-name":0===e.orderStatus?"operate":"otherOperate","min-width":[2,3,4].includes(e.orderStatus)?130:[0].includes(e.orderStatus)?140:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("div",{staticClass:"before"},[2===r.status?a("el-button",{staticClass:"blueBug",attrs:{type:"text"},on:{click:function(t){e.orderAccept(r),e.isTableOperateBtn=!0}}},[e._v("\n              接单\n            ")]):e._e(),3===r.status?a("el-button",{staticClass:"blueBug",attrs:{type:"text"},on:{click:function(t){return e.cancelOrDeliveryOrComplete(3,r.id)}}},[e._v("\n              派送\n            ")]):e._e(),4===r.status?a("el-button",{staticClass:"blueBug",attrs:{type:"text"},on:{click:function(t){return e.cancelOrDeliveryOrComplete(4,r.id)}}},[e._v("\n              完成\n            ")]):e._e()],1),a("div",{staticClass:"middle"},[2===r.status?a("el-button",{staticClass:"delBut",attrs:{type:"text"},on:{click:function(t){e.orderReject(r),e.isTableOperateBtn=!0}}},[e._v("\n              拒单\n            ")]):e._e(),[1,3,4,5].includes(r.status)?a("el-button",{staticClass:"delBut",attrs:{type:"text"},on:{click:function(t){return e.cancelOrder(r)}}},[e._v("\n              取消\n            ")]):e._e()],1),a("div",{staticClass:"after"},[a("el-button",{staticClass:"blueBug non",attrs:{type:"text"},on:{click:function(t){return e.goDetail(r.id,r.status,r)}}},[e._v("\n              查看\n            ")])],1)]}}],null,!1,415560991)})],1):a("Empty",{attrs:{"is-search":e.isSearch}}),e.counts>10?a("el-pagination",{staticClass:"pageList",attrs:{"page-sizes":[10,20,30,40],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.counts},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1),a("el-dialog",{staticClass:"order-dialog",attrs:{title:"订单信息",visible:e.dialogVisible,width:"53%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-scrollbar",{staticStyle:{height:"100%"}},[a("div",{staticClass:"order-top"},[a("div",[a("div",{staticStyle:{display:"inline-block"}},[a("label",{staticStyle:{"font-size":"16px"}},[e._v("订单号：")]),a("div",{staticClass:"order-num"},[e._v("\n              "+e._s(e.diaForm.number)+"\n            ")])]),a("div",{staticClass:"order-status",class:{status3:[3,4].includes(e.dialogOrderStatus)},staticStyle:{display:"inline-block"}},[e._v("\n            "+e._s(e.orderList.filter((function(t){return t.value===e.dialogOrderStatus}))[0].label)+"\n          ")])]),a("p",[a("label",[e._v("下单时间：")]),e._v(e._s(e.diaForm.orderTime))])]),a("div",{staticClass:"order-middle"},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"user-info-box"},[a("div",{staticClass:"user-name"},[a("label",[e._v("用户名：")]),a("span",[e._v(e._s(e.diaForm.consignee))])]),a("div",{staticClass:"user-phone"},[a("label",[e._v("手机号：")]),a("span",[e._v(e._s(e.diaForm.phone))])]),[2,3,4,5].includes(e.dialogOrderStatus)?a("div",{staticClass:"user-getTime"},[a("label",[e._v(e._s(5===e.dialogOrderStatus?"送达时间：":"预计送达时间："))]),a("span",[e._v(e._s(5===e.dialogOrderStatus?e.diaForm.deliveryTime:e.diaForm.estimatedDeliveryTime))])]):e._e(),a("div",{staticClass:"user-address"},[a("label",[e._v("地址：")]),a("span",[e._v(e._s(e.diaForm.address))])])]),a("div",{staticClass:"user-remark",class:{orderCancel:6===e.dialogOrderStatus}},[a("div",[e._v(e._s(6===e.dialogOrderStatus?"取消原因":"备注"))]),a("span",[e._v(e._s(6===e.dialogOrderStatus?e.diaForm.cancelReason||e.diaForm.rejectionReason:e.diaForm.remark))])])]),a("div",{staticClass:"dish-info"},[a("div",{staticClass:"dish-label"},[e._v("菜品")]),a("div",{staticClass:"dish-list"},e._l(e.diaForm.orderDetailList,(function(t,r){return a("div",{key:r,staticClass:"dish-item"},[a("div",{staticClass:"dish-item-box"},[a("span",{staticClass:"dish-name"},[e._v(e._s(t.name))]),a("span",{staticClass:"dish-num"},[e._v("x"+e._s(t.number))])]),a("span",{staticClass:"dish-price"},[e._v("￥"+e._s(t.amount?t.amount.toFixed(2):""))])])})),0),a("div",{staticClass:"dish-all-amount"},[a("label",[e._v("菜品小计")]),a("span",[e._v("￥"+e._s((e.diaForm.amount-6-e.diaForm.packAmount).toFixed(2)))])])])]),a("div",{staticClass:"order-bottom"},[a("div",{staticClass:"amount-info"},[a("div",{staticClass:"amount-label"},[e._v("费用")]),a("div",{staticClass:"amount-list"},[a("div",{staticClass:"dish-amount"},[a("span",{staticClass:"amount-name"},[e._v("菜品小计：")]),a("span",{staticClass:"amount-price"},[e._v("￥"+e._s(100*(e.diaForm.amount-6-e.diaForm.packAmount).toFixed(2)/100))])]),a("div",{staticClass:"send-amount"},[a("span",{staticClass:"amount-name"},[e._v("派送费：")]),a("span",{staticClass:"amount-price"},[e._v("￥"+e._s(6))])]),a("div",{staticClass:"package-amount"},[a("span",{staticClass:"amount-name"},[e._v("打包费：")]),a("span",{staticClass:"amount-price"},[e._v("￥"+e._s(e.diaForm.packAmount?100*e.diaForm.packAmount.toFixed(2)/100:""))])]),a("div",{staticClass:"all-amount"},[a("span",{staticClass:"amount-name"},[e._v("合计：")]),a("span",{staticClass:"amount-price"},[e._v("￥"+e._s(e.diaForm.amount?100*e.diaForm.amount.toFixed(2)/100:""))])]),a("div",{staticClass:"pay-type"},[a("span",{staticClass:"pay-name"},[e._v("支付渠道：")]),a("span",{staticClass:"pay-value"},[e._v(e._s(1===e.diaForm.payMethod?"微信支付":"支付宝支付"))])]),a("div",{staticClass:"pay-time"},[a("span",{staticClass:"pay-name"},[e._v("支付时间：")]),a("span",{staticClass:"pay-value"},[e._v(e._s(e.diaForm.checkoutTime))])])])])])]),6!==e.dialogOrderStatus?a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[2===e.dialogOrderStatus&&2===e.orderStatus?a("el-checkbox",{model:{value:e.isAutoNext,callback:function(t){e.isAutoNext=t},expression:"isAutoNext"}},[e._v("处理完自动跳转下一条")]):e._e(),2===e.dialogOrderStatus?a("el-button",{on:{click:function(t){e.orderReject(e.row),e.isTableOperateBtn=!1}}},[e._v("拒 单")]):e._e(),2===e.dialogOrderStatus?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.orderAccept(e.row),e.isTableOperateBtn=!1}}},[e._v("接 单")]):e._e(),[1,3,4,5].includes(e.dialogOrderStatus)?a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("返 回")]):e._e(),3===e.dialogOrderStatus?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.cancelOrDeliveryOrComplete(3,e.row.id)}}},[e._v("派 送")]):e._e(),4===e.dialogOrderStatus?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.cancelOrDeliveryOrComplete(4,e.row.id)}}},[e._v("完 成")]):e._e(),[1].includes(e.dialogOrderStatus)?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.cancelOrder(e.row)}}},[e._v("取消订单")]):e._e()],1):e._e()],1),a("el-dialog",{staticClass:"cancelDialog",attrs:{title:e.cancelDialogTitle+"原因",visible:e.cancelDialogVisible,width:"42%","before-close":function(){return e.cancelDialogVisible=!1,e.cancelReason=""}},on:{"update:visible":function(t){e.cancelDialogVisible=t}}},[a("el-form",{attrs:{"label-width":"90px"}},[a("el-form-item",{attrs:{label:e.cancelDialogTitle+"原因："}},[a("el-select",{attrs:{placeholder:"请选择"+e.cancelDialogTitle+"原因"},model:{value:e.cancelReason,callback:function(t){e.cancelReason=t},expression:"cancelReason"}},e._l("取消"===e.cancelDialogTitle?e.cancelrReasonList:e.cancelOrderReasonList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.label}})})),1)],1),"自定义原因"===e.cancelReason?a("el-form-item",{attrs:{label:"原因："}},[a("el-input",{attrs:{type:"textarea",placeholder:"请填写您"+e.cancelDialogTitle+"的原因（限20字内）",maxlength:"20"},model:{value:e.remark,callback:function(t){e.remark="string"===typeof t?t.trim():t},expression:"remark"}})],1):e._e()],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancelDialogVisible=!1,e.cancelReason=""}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmCancel}},[e._v("确 定")])],1)],1)],1)},i=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("96cf"),a("3b8d")),s=a("bd86"),l=(a("c5f6"),a("d225")),o=a("b0b4"),c=a("308d"),u=a("6bb5"),d=a("4e2b"),b=a("9ab4"),p=a("60a3"),v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"HeadLable"},[e.goback?r("span",{staticClass:"goBack",on:{click:function(t){return e.goBack()}}},[r("img",{attrs:{src:a("d4eb"),alt:""}}),e._v(" 返回")]):e._e(),e.butList?e._e():r("span",[e._v(e._s(e.title))]),e.butList?r("div",[e._t("default")],2):e._e()])},f=[],m=function(e){function t(){return Object(l["a"])(this,t),Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(d["a"])(t,e),Object(o["a"])(t,[{key:"toggleClick",value:function(){this.$emit("toggleClick")}},{key:"goBack",value:function(){this.$router.go(-1)}}]),t}(p["c"]);Object(b["a"])([Object(p["b"])({default:!1})],m.prototype,"goback",void 0),Object(b["a"])([Object(p["b"])({default:!1})],m.prototype,"butList",void 0),Object(b["a"])([Object(p["b"])({default:"集团管理"})],m.prototype,"title",void 0),m=Object(b["a"])([Object(p["a"])({name:"Hamburger"})],m);var h=m,g=h,y=(a("aea7"),a("2877")),O=Object(y["a"])(g,v,f,!1,null,"6793a8ec",null),_=O.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-auto-complete"},[a("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:e.placeholder,clearable:""},on:{clear:e.init},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.init(t)}},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}},[a("i",{staticClass:"el-input__icon el-icon-search",staticStyle:{cursor:"pointer"},attrs:{slot:"prefix"},on:{click:e.init},slot:"prefix"})])],1)},S=[],C=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.input="",e}return Object(d["a"])(t,e),Object(o["a"])(t,[{key:"init",value:function(){this.$emit("init",this.input)}}]),t}(p["c"]);Object(b["a"])([Object(p["b"])({default:[]})],C.prototype,"data",void 0),Object(b["a"])([Object(p["b"])({default:""})],C.prototype,"placeholder",void 0),Object(b["a"])([Object(p["b"])({default:"name"})],C.prototype,"ObKey",void 0),C=Object(b["a"])([Object(p["a"])({name:"InputAutoComplete"})],C);var j=C,x=j,A=(a("8ed8"),Object(y["a"])(x,k,S,!1,null,"2df96c12",null)),T=A.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tab-change"},e._l(e.changedOrderList,(function(t){return a("div",{key:t.value,staticClass:"tab-item",class:{active:t.value===e.activeIndex},on:{click:function(a){return e.tabChange(t.value)}}},[a("el-badge",{staticClass:"item",class:{"special-item":t.num<10},attrs:{value:t.num>99?"99+":t.num,hidden:!([2,3,4].includes(t.value)&&t.num)}},[e._v("\n      "+e._s(t.label)+"\n    ")])],1)})),0)},D=[],I=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.activeIndex=e.defaultActivity||0,e}return Object(d["a"])(t,e),Object(o["a"])(t,[{key:"onChange",value:function(e){this.activeIndex=Number(e)}},{key:"tabChange",value:function(e){this.activeIndex=e,this.$emit("tabChange",e)}},{key:"changedOrderList",get:function(){return[{label:"全部订单",value:0},{label:"待接单",value:2,num:this.orderStatics.toBeConfirmed},{label:"待派送",value:3,num:this.orderStatics.confirmed},{label:"派送中",value:4,num:this.orderStatics.deliveryInProgress},{label:"已完成",value:5},{label:"已取消",value:6}]}}]),t}(p["c"]);Object(b["a"])([Object(p["b"])({default:""})],I.prototype,"orderStatics",void 0),Object(b["a"])([Object(p["b"])({default:""})],I.prototype,"defaultActivity",void 0),Object(b["a"])([Object(p["d"])("defaultActivity")],I.prototype,"onChange",null),I=Object(b["a"])([Object(p["a"])({name:"TabChange"})],I);var F=I,E=F,B=(a("f655"),Object(y["a"])(E,w,D,!1,null,null,null)),R=B.exports,N=a("fab1"),$=a("560a");function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(Object(a),!0).forEach((function(t){Object(s["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var L=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.defaultActivity=0,e.orderStatics={},e.row={},e.isAutoNext=!0,e.isTableOperateBtn=!0,e.currentPageIndex=0,e.orderId="",e.input="",e.phone="",e.valueTime=[],e.dialogVisible=!1,e.cancelDialogVisible=!1,e.cancelDialogTitle="",e.cancelReason="",e.remark="",e.counts=0,e.page=1,e.pageSize=10,e.tableData=[],e.diaForm=[],e.isSearch=!1,e.orderStatus=0,e.dialogOrderStatus=0,e.cancelOrderReasonList=[{value:1,label:"订单量较多，暂时无法接单"},{value:2,label:"菜品已销售完，暂时无法接单"},{value:3,label:"餐厅已打烊，暂时无法接单"},{value:0,label:"自定义原因"}],e.cancelrReasonList=[{value:1,label:"订单量较多，暂时无法接单"},{value:2,label:"菜品已销售完，暂时无法接单"},{value:3,label:"骑手不足无法配送"},{value:4,label:"客户电话取消"},{value:0,label:"自定义原因"}],e.orderList=[{label:"全部订单",value:0},{label:"待付款",value:1},{label:"待接单",value:2},{label:"待派送",value:3},{label:"派送中",value:4},{label:"已完成",value:5},{label:"已取消",value:6}],e}return Object(d["a"])(t,e),Object(o["a"])(t,[{key:"created",value:function(){this.init(Number(this.$route.query.status)||0)}},{key:"mounted",value:function(){this.$route.query.orderId&&"undefined"!==this.$route.query.orderId&&this.goDetail(this.$route.query.orderId,2),this.$route.query.status&&(this.defaultActivity=this.$route.query.status)}},{key:"initFun",value:function(e){this.page=1,this.init(e)}},{key:"change",value:function(e){e!==this.orderStatus&&(this.init(e),this.input="",this.phone="",this.valueTime=[],this.dialogOrderStatus=0,this.$router.push("/order"),console.log(e,"接收到了子组件的index"))}},{key:"getOrderListBy3Status",value:function(){var e=this;Object($["d"])({}).then((function(t){1===t.data.code?e.orderStatics=t.data.data:e.$message.error(t.data.msg)})).catch((function(t){e.$message.error("请求出错了："+t.message)}))}},{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1?arguments[1]:void 0;this.isSearch=a;var r={page:this.page,pageSize:this.pageSize,number:this.input||void 0,phone:this.phone||void 0,beginTime:this.valueTime&&this.valueTime.length>0?this.valueTime[0]:void 0,endTime:this.valueTime&&this.valueTime.length>0?this.valueTime[1]:void 0,status:t||void 0};Object($["c"])(P({},r)).then((function(a){if(1===a.data.code){if(e.tableData=a.data.data.records,e.orderStatus=t,e.counts=Number(a.data.data.total),e.getOrderListBy3Status(),!(2===e.dialogOrderStatus&&2===e.orderStatus&&e.isAutoNext&&!e.isTableOperateBtn&&a.data.data.records.length>1))return null;var r=a.data.data.records[0];e.goDetail(r.id,r.status,r)}else e.$message.error(a.data.msg)})).catch((function(t){e.$message.error("请求出错了："+t.message)}))}},{key:"getOrderType",value:function(e){return 1===e.status?"待付款":2===e.status?"待接单":3===e.status?"待派送":4===e.status?"派送中":5===e.status?"已完成":6===e.status?"已取消":"退款"}},{key:"goDetail",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,a,r){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.diaForm=[],this.dialogVisible=!0,this.dialogOrderStatus=a,this.orderId=t,e.next=6,Object($["h"])({orderId:t});case 6:i=e.sent,n=i.data,this.diaForm=n.data,this.row=r||{id:this.$route.query.orderId,status:a},this.$route.query.orderId&&this.$router.push("/order");case 11:case"end":return e.stop()}}),e,this)})));function t(t,a,r){return e.apply(this,arguments)}return t}()},{key:"orderReject",value:function(e){this.cancelDialogVisible=!0,this.orderId=e.id,this.dialogOrderStatus=e.status,this.cancelDialogTitle="拒绝",this.dialogVisible=!1,this.cancelReason=""}},{key:"orderAccept",value:function(e){var t=this;this.orderId=e.id,this.dialogOrderStatus=e.status,Object($["e"])({id:this.orderId}).then((function(e){1===e.data.code?(t.$message.success("操作成功"),t.orderId="",t.dialogVisible=!1,t.init(t.orderStatus)):t.$message.error(e.data.msg)})).catch((function(e){t.$message.error("请求出错了："+e.message)}))}},{key:"cancelOrder",value:function(e){this.cancelDialogVisible=!0,this.orderId=e.id,this.dialogOrderStatus=e.status,this.cancelDialogTitle="取消",this.dialogVisible=!1,this.cancelReason=""}},{key:"confirmCancel",value:function(e){var t=this;return this.cancelReason?"自定义原因"!==this.cancelReason||this.remark?void("取消"===this.cancelDialogTitle?$["f"]:$["g"])(Object(s["a"])({id:this.orderId},"取消"===this.cancelDialogTitle?"cancelReason":"rejectionReason","自定义原因"===this.cancelReason?this.remark:this.cancelReason)).then((function(e){1===e.data.code?(t.$message.success("操作成功"),t.cancelDialogVisible=!1,t.orderId="",t.init(t.orderStatus)):t.$message.error(e.data.msg)})).catch((function(e){t.$message.error("请求出错了："+e.message)})):this.$message.error("请输入".concat(this.cancelDialogTitle,"原因")):this.$message.error("请选择".concat(this.cancelDialogTitle,"原因"))}},{key:"cancelOrDeliveryOrComplete",value:function(e,t){var a=this,r={status:e,id:t};(3===e?$["b"]:$["a"])(r).then((function(e){1===e.data.code?(a.$message.success("操作成功"),a.orderId="",a.dialogVisible=!1,a.init(a.orderStatus)):a.$message.error(e.data.msg)})).catch((function(e){a.$message.error("请求出错了："+e.message)}))}},{key:"handleClose",value:function(){this.dialogVisible=!1}},{key:"handleSizeChange",value:function(e){this.pageSize=e,this.init(this.orderStatus)}},{key:"handleCurrentChange",value:function(e){this.page=e,this.init(this.orderStatus)}}]),t}(p["c"]);L=Object(b["a"])([Object(p["a"])({components:{HeadLable:_,InputAutoComplete:T,TabChange:R,Empty:N["a"]}})],L);var z=L,q=z,U=(a("fb4c"),a("9d4c"),Object(y["a"])(q,r,i,!1,null,"1ce8f2a0",null));t["default"]=U.exports},8830:function(e,t,a){},"8b97":function(e,t,a){var r=a("d3f4"),i=a("cb7c"),n=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(i){t=!0}return function(e,a){return n(e,a),t?e.__proto__=a:r(e,a),e}}({},!1):void 0),check:n}},"8ed8":function(e,t,a){"use strict";var r=a("780e"),i=a.n(r);i.a},"949e":function(e,t,a){},"9ae3":function(e,t,a){e.exports={menuBg:"#343744",menuText:"#bfcbd9",menuActiveText:"#ffc200"}},"9d4c":function(e,t,a){"use strict";var r=a("9ae3"),i=a.n(r);i.a},aa77:function(e,t,a){var r=a("5ca1"),i=a("be13"),n=a("79e5"),s=a("fdef"),l="["+s+"]",o="​",c=RegExp("^"+l+l+"*"),u=RegExp(l+l+"*$"),d=function(e,t,a){var i={},l=n((function(){return!!s[e]()||o[e]()!=o})),c=i[e]=l?t(b):s[e];a&&(i[a]=c),r(r.P+r.F*l,"String",i)},b=d.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=d},aea7:function(e,t,a){"use strict";var r=a("949e"),i=a.n(r);i.a},be14:function(e,t,a){"use strict";var r=a("8830"),i=a.n(r);i.a},c5f6:function(e,t,a){"use strict";var r=a("7726"),i=a("69a8"),n=a("2d95"),s=a("5dbc"),l=a("6a99"),o=a("79e5"),c=a("9093").f,u=a("11e9").f,d=a("86cc").f,b=a("aa77").trim,p="Number",v=r[p],f=v,m=v.prototype,h=n(a("2aeb")(m))==p,g="trim"in String.prototype,y=function(e){var t=l(e,!1);if("string"==typeof t&&t.length>2){t=g?t.trim():b(t,3);var a,r,i,n=t.charCodeAt(0);if(43===n||45===n){if(a=t.charCodeAt(2),88===a||120===a)return NaN}else if(48===n){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var s,o=t.slice(2),c=0,u=o.length;c<u;c++)if(s=o.charCodeAt(c),s<48||s>i)return NaN;return parseInt(o,r)}}return+t};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof v&&(h?o((function(){m.valueOf.call(a)})):n(a)!=p)?s(new f(y(t)),a,v):y(t)};for(var O,_=a("9e1e")?c(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;_.length>k;k++)i(f,O=_[k])&&!i(v,O)&&d(v,O,u(f,O));v.prototype=m,m.constructor=v,a("2aba")(r,p,v)}},d4eb:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAqCAYAAADBNhlmAAABcElEQVRYR+3YwUrDQBAG4JlS8e7BU1QqyaUN4iP4LCoo3n0J79aD4tW7D1DyBkUhCBqIggcfwYN0JGraWjbdTXbZGUpyTXbz5d/sZrIIwg8U7oMWaDtCbYKiEgzDvSAINj6SJPmyhZXtnQwxEWEvHAwB4AQBnne2NmNXSGvgDy4a3ADB4d9TUxe721n2+O4iRSugAgeAePWapWcucEUfjYFqHNzmL+kxIhIr0BeuUYI+cbWBvnG1gBw4YyAXzgjIidMCuXFLgRJwlcBfXH8EhAdzC+64g517VwvwrJ/JJ62t3+VP4zdV38ovSS/qX9AEzt1j1D0i4kOepfurAxQ/xEXUBXI3iq+J6GgaPbovBnSv0dJqRgJSW25xI7VA7uE2ApbIhdK+KHedF6iL76QxkAtZC8iBrA30jWwE9IlsDKxGCvntLGeb6B/3/8j4EohOxW19zK9bYjePdB98m/NWk8TmxqZtW6BpUlXXtQnaJvgN7kUqOhRI5j0AAAAASUVORK5CYII="},f655:function(e,t,a){"use strict";var r=a("847b"),i=a.n(r);i.a},fab1:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"empty-box"},[r("div",{staticClass:"img-box"},[e.isSearch?r("img",{attrs:{src:a("2235")}}):r("img",{attrs:{src:a("38b8"),alt:""}}),r("p",[e._v(e._s(e.isSearch?"Sorry，木有找到您搜索的内容哦~":"这里空空如也~"))])])])},i=[],n=a("d225"),s=a("308d"),l=a("6bb5"),o=a("4e2b"),c=a("9ab4"),u=a("60a3"),d=function(e){function t(){return Object(n["a"])(this,t),Object(s["a"])(this,Object(l["a"])(t).apply(this,arguments))}return Object(o["a"])(t,e),t}(u["c"]);Object(c["a"])([Object(u["b"])({default:!1})],d.prototype,"isSearch",void 0),d=Object(c["a"])([Object(u["a"])({name:"Empty"})],d);var b=d,p=b,v=(a("be14"),a("2877")),f=Object(v["a"])(p,r,i,!1,null,"399b6bbf",null);t["a"]=f.exports},fb4c:function(e,t,a){"use strict";var r=a("6f02"),i=a.n(r);i.a},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-6c44f45e.58d0c9fb.js.map